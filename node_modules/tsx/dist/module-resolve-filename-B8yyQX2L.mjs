var b=Object.defineProperty;var n=(t,s)=>b(t,"name",{value:s,configurable:!0});import l from"node:path";import P from"node:module";import{fileURLToPath as F}from"node:url";import{parseTsconfig as U,getTsconfig as $,createFilesMatcher as A,createPathsMatcher as v}from"get-tsconfig";const f=Object.create(null);f[".js"]=[".ts",".tsx",".js",".jsx"],f[".jsx"]=[".tsx",".ts",".jsx",".js"],f[".cjs"]=[".cts"],f[".mjs"]=[".mts"];const p=n(t=>{const[s,c]=t.split("?"),e=l.extname(s),o=f[e];if(o){const a=s.slice(0,-e.length);return o.map(i=>a+i+(c?`?${c}`:""))}},"resolveTsPath"),w=n(t=>{const s=t.indexOf(":");if(s!==-1)return t.slice(0,s)},"getScheme"),g=n(t=>t[0]==="."&&(t[1]==="/"||t[1]==="."||t[2]==="/"),"isRelativePath"),D=n(t=>g(t)||l.isAbsolute(t),"isUnixPath"),M=n(t=>{if(D(t))return!0;const s=w(t);return s&&s!=="node"},"requestAcceptsQuery"),T="file://",O=/\.([cm]?ts|[tj]sx)($|\?)/,R=/\.json($|\?)/,u=/\/(?:$|\?)/;let _,m,x=!1;const C=n(t=>{let s=null;if(t){const c=l.resolve(t);s={path:c,config:U(c)}}else{try{s=$()}catch{}if(!s)return}_=A(s),m=v(s),x=s?.config.compilerOptions?.allowJs??!1},"loadTsconfig"),I=`${l.sep}node_modules${l.sep}`,y=n(t=>{if(!t.startsWith("data:text/javascript,"))return t;const s=t.indexOf("?");if(s===-1)return t;const e=new URLSearchParams(t.slice(s+1)).get("filePath");return e&&(P._cache[e]=P._cache[t],delete P._cache[t],t=e),t},"interopCjsExports"),E=n((t,s,c,e,o)=>{if(!(c?.filename&&O.test(c.filename))&&!x)return;const a=p(s);if(a)for(const i of a)try{return t(i,c,e,o)}catch(r){const{code:h}=r;if(h!=="MODULE_NOT_FOUND"&&h!=="ERR_PACKAGE_PATH_NOT_EXPORTED")throw r}},"resolveTsFilename"),J=n(t=>(s,c,e,o)=>{s=y(s);const a=s.indexOf("?"),i=a===-1?"":s.slice(a);if(a!==-1&&(s=s.slice(0,a)),s.startsWith(T)&&(s=F(s)),m&&!g(s)&&!c?.filename?.includes(I)){const h=m(s);for(const d of h){const j=E(t,d,c,e,o);if(j)return j+i;try{return t(d,c,e,o)+i}catch{}}}const r=E(t,s,c,e,o);return r?r+i:t(s,c,e,o)+i},"createResolveFilename");export{u as a,x as b,J as c,p as d,T as e,_ as f,m as g,y as h,R as i,C as l,M as r,O as t};
