"use strict";var y=Object.defineProperty;var n=(t,s)=>y(t,"name",{value:s,configurable:!0});var l=require("node:path"),d=require("node:module"),E=require("node:url"),P=require("get-tsconfig");const f=Object.create(null);f[".js"]=[".ts",".tsx",".js",".jsx"],f[".jsx"]=[".tsx",".ts",".jsx",".js"],f[".cjs"]=[".cts"],f[".mjs"]=[".mts"];const g=n(t=>{const[s,e]=t.split("?"),c=l.extname(s),o=f[c];if(o){const i=s.slice(0,-c.length);return o.map(r=>i+r+(e?`?${e}`:""))}},"resolveTsPath"),_=n(t=>{const s=t.indexOf(":");if(s!==-1)return t.slice(0,s)},"getScheme"),j=n(t=>t[0]==="."&&(t[1]==="/"||t[1]==="."||t[2]==="/"),"isRelativePath"),O=n(t=>j(t)||l.isAbsolute(t),"isUnixPath"),M=n(t=>{if(O(t))return!0;const s=_(t);return s&&s!=="node"},"requestAcceptsQuery"),T="file://",v=/\.([cm]?ts|[tj]sx)($|\?)/,F=/\.json($|\?)/,U=/\/(?:$|\?)/;exports.fileMatcher=void 0,exports.tsconfigPathsMatcher=void 0,exports.allowJs=!1;const w=n(t=>{let s=null;if(t){const e=l.resolve(t);s={path:e,config:P.parseTsconfig(e)}}else{try{s=P.getTsconfig()}catch{}if(!s)return}exports.fileMatcher=P.createFilesMatcher(s),exports.tsconfigPathsMatcher=P.createPathsMatcher(s),exports.allowJs=s?.config.compilerOptions?.allowJs??!1},"loadTsconfig"),A=`${l.sep}node_modules${l.sep}`,p=n(t=>{if(!t.startsWith("data:text/javascript,"))return t;const s=t.indexOf("?");if(s===-1)return t;const c=new URLSearchParams(t.slice(s+1)).get("filePath");return c&&(d._cache[c]=d._cache[t],delete d._cache[t],t=c),t},"interopCjsExports"),u=n((t,s,e,c,o)=>{if(!(e?.filename&&v.test(e.filename))&&!exports.allowJs)return;const i=g(s);if(i)for(const r of i)try{return t(r,e,c,o)}catch(a){const{code:h}=a;if(h!=="MODULE_NOT_FOUND"&&h!=="ERR_PACKAGE_PATH_NOT_EXPORTED")throw a}},"resolveTsFilename"),J=n(t=>(s,e,c,o)=>{s=p(s);const i=s.indexOf("?"),r=i===-1?"":s.slice(i);if(i!==-1&&(s=s.slice(0,i)),s.startsWith(T)&&(s=E.fileURLToPath(s)),exports.tsconfigPathsMatcher&&!j(s)&&!e?.filename?.includes(A)){const h=exports.tsconfigPathsMatcher(s);for(const m of h){const x=u(t,m,e,c,o);if(x)return x+r;try{return t(m,e,c,o)+r}catch{}}}const a=u(t,s,e,c,o);return a?a+r:t(s,e,c,o)+r},"createResolveFilename");exports.createResolveFilename=J,exports.fileUrlPrefix=T,exports.interopCjsExports=p,exports.isDirectoryPattern=U,exports.isJsonPattern=F,exports.loadTsconfig=w,exports.requestAcceptsQuery=M,exports.resolveTsPath=g,exports.tsExtensionsPattern=v;
